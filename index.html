<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
        <title>Vulnerability Assessment</title>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <h1 class="display-1 text-center">Vulnerability Assessment</h1>
            </div>
            <form>
                <!-- Basic information -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Basic information</h3>
                        <label for="clientName" class="form-label">Client's first name</label>
                        <input type="text" class="form-control" id="clientName" placeholder="Client's first name">
                    </div> 
                </div>
                <!-- Social vulnerability housing -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Social Vulnerability - Housing</h3>
                        <div class="mb-3">
                            <select class="form-select" id="socialVulnHousing" aria-label="Housing select box">
                                <option selected>Please select a housing option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="homeless">Homeless</option>
                                <option value="councilRent">Rents a council property</option>
                                <option value="haRent">Rents a housing association property</option>
                                <option value="privateRent">Rents a privately rented property</option>
                                <option value="ownHomeMortgage">Owns a home and has a mortgage</option>
                                <option value="ownHomeOutright">Owns their home outright</option>
                                <option value="family">Lives with family</option>
                                <option value="friends">Lives with friends</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <p>Additional options</p>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="housingWantsHelp">
                                <label class="form-check-label" for="housingWantsHelp">
                                  Wants help with their housing situation
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="housingArrears">
                                <label class="form-check-label" for="housingArrears">
                                  Is behind with payments on their rent/morgage
                                </label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="housingAdditional" class="form-label">Additional Comments</label>
                            <textarea class="form-control" id="housingAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Social vulnerability - financial situation -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Social Vulnerability - Financial Situation</h3>
                        <div class="mb-3">
                            <select class="form-select" id="socialFinances" aria-label="Financial situation select box">
                                <option selected>Please select a financial situation option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="mainEmployment">Main income is from employment</option>
                                <option value="mainBenefits">Main income is from benefits</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <p>Additional options</p>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="financesWantsHelp">
                                <label class="form-check-label" for="housingWantsHelp">
                                  Wants help with their financial situation
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="financesDebt">
                                <label class="form-check-label" for="financesDebt">
                                  Is currently in debt
                                </label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="financesAdditional" class="form-label">Additional Comments</label>
                            <textarea class="form-control" id="financesAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Social vulnerability - employment -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Social Vulnerability - Employment</h3>
                        <div class="mb-3">
                            <select class="form-select" id="socialEmployment" aria-label="Employment select box">
                                <option selected>Please select a employment option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="employed">Is currently employed (enter job in additional options)</option>
                                <option value="unemployedLooking">Is currently unemployed and looking for work</option>
                                <option value="unemployedNotLooking">Is currently unemployed but is not looking for work</option>
                                <option value="unableSickness">Is currently unable to work due to their medical conditions (enter medical conditions in additional options)</option>
                                <option value="employedSickness">Is employed but is not currently working as they are on sick leave</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <p>Additional options</p>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="employmentWantsHelp">
                                <label class="form-check-label" for="employmentWantsHelp">
                                  Wants help with their employment situation
                                </label>
                            </div>
                            <div class="mb-3">
                                <label for="employmentJob" class="form-label">Client's job title</label>
                                <input type="text" class="form-control" id="employmentJob" placeholder="Client's job title">
                            </div>
                            <div class="mb-3">
                                <label for="employmentMedicalCond" class="form-label">Client's medical conditions preventing them from working</label>
                                <input type="text" class="form-control" id="employmentMedicalCond" placeholder="Client's medical conditions">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="employmentAdditional" class="form-label">Additional Comments</label>
                            <textarea class="form-control" id="employmentAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Social vulnerability - education -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Social Vulnerability - Education</h3>
                        <div class="mb-3">
                            <select class="form-select" id="socialEducation" aria-label="Educaiton network select box">
                                <option selected>Please select a education option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="gcse">Obtained GCSEs</option>
                                <option value="alevel">Obtained A levels</option>
                                <option value="ugrad">Obtained an undergraduate degree</option>
                                <option value="masters">Obtained a masters degree</option>
                                <option value="doc">Obtained a doctorate degree</option>
                                <option value="lvl1">Obtained a level 1 qualification</option>
                                <option value="lvl2">Obtained a level 2 qualification</option>
                                <option value="lvl3">Obtained a level 3 qualification</option>
                                <option value="lvl4">Obtained a level 4 qualification</option>
                                <option value="lvl5">Obtained a level 5 qualification</option>
                                <option value="lvl6">Obtained a level 6 qualification</option>
                                <option value="lvl7">Obtained a level 7 qualification</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <p>Additional options</p>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="educationWantsHelp">
                                <label class="form-check-label" for="educationWantsHelp">
                                  Wants help with further education
                                </label>
                            </div>
                            <div class="mb-3">
                                <label for="educationSubject" class="form-label">Client's area of study e.g. mathematics</label>
                                <input type="text" class="form-control" id="educationSubject" placeholder="Client's area of study">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="educationAdditional" class="form-label">Additional Comments</label>
                            <textarea class="form-control" id="educationAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Social vulnerability - support network -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Social Vulnerability - Support Network</h3>
                        <div class="mb-3">
                            <select class="form-select" id="socialSupport" aria-label="Support network select box">
                                <option selected>Please select a support network option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="support">Has a support network (give additional details in additional comments box)</option>
                                <option value="noSupport">Does not have a support network</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <p>Additional options</p>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="supportNetworkWantsHelp">
                                <label class="form-check-label" for="supportNetworkWantsHelp">
                                  Wants help with their support network
                                </label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="supportAdditional" class="form-label">Additional Comments</label>
                            <textarea class="form-control" id="supportAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Social vulnerability - safeguarding -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Social Vulnerability - Safeguarding</h3>
                        <div class="mb-3">
                            <select class="form-select" id="socialSafeguarding" aria-label="Safeguarding select box">
                                <option selected>Please select a safeguarding option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="noSafeguarding">No safeguarding concerns</option>
                                <option value="atRiskAbuse">Is at risk of abuse</option>
                                <option value="atRiskNeglect">Is at risk of neglect</option>
                                <option value="experiencedAbuse">Has experienced abuse</option>
                                <option value="experiencedNeglect">Has experienced neglect</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <p>Additional options</p>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="safeguardingWantsHelp">
                                <label class="form-check-label" for="safeguardingWantsHelp">
                                  Wants help with safeguarding
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="safeguardingAgreedReferral">
                                <label class="form-check-label" for="safeguardingAgreedReferral">
                                  Agreed for MASH referral
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="safeguardingDeclinedReferral">
                                <label class="form-check-label" for="safeguardingDeclinedReferral">
                                  Declined MASH referral
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="safeguardingMASHReferred">
                                <label class="form-check-label" for="safeguardingMASHReferred">
                                  MASH referral made
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="safeguardingMASHNotReferred">
                                <label class="form-check-label" for="safeguardingMASHNotReferred">
                                  MASH referral not made (explain why in box below)
                                </label>
                            </div>
                            <div class="mb-3">
                                <label for="safeguardingMASHNotReferredReason" class="form-label">Reason for not making MASH referral</label>
                                <input type="text" class="form-control" id="safeguardingMASHNotReferredReason" placeholder="Reason for not making MASH referral">
                            </div>
                            <div class="mb-3">
                                <label for="safeguardingDetails" class="form-label">Details of the abuse/neglect experienced/at risk of</label>
                                <textarea class="form-control" id="safeguardingDetails" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="supportAdditional" class="form-label">Additional Comments</label>
                            <textarea class="form-control" id="safeguardingAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Social vulnerability - forensic -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Social Vulnerability - Forensic history</h3>
                        <div class="mb-3">
                            <select class="form-select" id="socialForensic" aria-label="Forensic history select box">
                                <option selected>Please select a forensic option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="staines">Arrested and held at Staines</option>
                                <option value="guildford">Arrested and held at Guildford</option>
                                <option value="salfords">Arrested and held at Salfords</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <p>Additional options</p>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="forensicWantsHelp">
                                <label class="form-check-label" for="forensicWantsHelp">
                                  Wants help with their forensic history/offending behaviour
                                </label>
                            </div>
                            <div class="mb-3">
                                <label for="forensicArrestDate" class="form-label">Client's date of arrest</label>
                                <input type="text" class="form-control" id="forensicArrestDate" placeholder="Client's date of arrest">
                            </div>
                            <div class="mb-3">
                                <label for="forensicReasonForArrest" class="form-label">Client's reason for arrest (e.g. assault)</label>
                                <input type="text" class="form-control" id="forensicReasonForArrest" placeholder="Client's reason for arrest">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="forensicAdditional" class="form-label">Additional Comments</label>
                            <textarea class="form-control" id="forensicAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Social vulnerability - other -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Social Vulnerability - Other</h3>
                        <div class="mb-3">
                            <p>Children</p>
                            <select class="form-select" id="socialChildren" aria-label="Children select box">
                                <option selected>Please select a children option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="noChildren">Does not have children</option>
                                <option value="children1">Has 1 child</option>
                                <option value="children2">Has 2 children</option>
                                <option value="children3">Has 3 children</option>
                                <option value="children4">Has 4 children</option>
                                <option value="children5">Has 5 children</option>
                                <option value="children6">Has 6 children</option>
                                <option value="children7">Has 7 children</option>
                                <option value="children8">Has 8 children</option>
                                <option value="children9">Has 9 children</option>
                                <option value="children10">Has 10 children</option>
                            </select>
                            <div class="mb-3">
                                <label for="childrenAdditional" class="form-label">Additional Information about children</label>
                                <textarea class="form-control" id="childrenAdditional" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="mb-3">
                            <p>Relationship Status</p>
                            <select class="form-select" id="socialRelationship" aria-label="Relationship Status select box">
                                <option selected>Please select a marital status option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="single">Is single</option>
                                <option value="married">Is married</option>
                                <option value="inRelationship">Is in a relationship</option>
                                <option value="divorced">Is divorced</option>
                                <option value="widowed">Is widowed</option>
                            </select>
                            <div class="mb-3">
                                <label for="relationshipAdditional" class="form-label">Additional Information about relationship</label>
                                <textarea class="form-control" id="relationshipAdditional" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="socialOtherAdditional" class="form-label">Additional Comments</label>
                            <textarea class="form-control" id="socialOtherAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Risks - concerns about MCA -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Identified Risks - Mental capacity</h3>
                        <select class="form-select" id="riskMCA" aria-label="MCA select box">
                            <option selected>Please select a mental capacity option</option>
                            <option value="didNotAssess">Did not assess</option>
                            <option value="noReasonToSetAsidePresumption">No reason to set aside of the presumption of capacity</option>
                            <option value="assessedCapacity">Has the mental capacity to make decisions around the criminal justice system</option>
                            <option value="assessedNoCapacity">Lacks the mental capacity to make decisions around the criminal justice system</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <p><b>MCA Assessment</b></p>
                        <div class="mb-3">
                            <label for="mcaDiagnostic" class="form-label"><i>Diagnostic test (give the diagnoses that may affect capacity)</i></label>
                            <input type="text" class="form-control" id="mcaDiagnostic" placeholder="Diagnostic test">
                        </div>
                        <p><i>Functional Test</i></p>
                        <div class="mb-3">
                            <p>Understand</p>
                            <select class="form-select mb-3" id="mcaUnderstand" aria-label="MCA ability to understand select box">
                                <option selected>Please select an option</option>
                                <option value="ableUnderstand">Was able to understand the information related to the decision</option>
                                <option value="notAbleUnderstand">Was unable to understand the information related to the decision</option>
                            </select>
                            <div class="mb-3">
                                <label for="mcaUnderstandExtra" class="form-label">Additional Comments</label>
                                <textarea class="form-control" id="mcaUnderstandExtra" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="mb-3">
                            <p>Retain</p>
                            <select class="form-select mb-3" id="mcaRetain" aria-label="MCA ability to retain select box">
                                <option selected>Please select an option</option>
                                <option value="ableRetain">Was able to retain the information related to the decision</option>
                                <option value="notAbleRetain">Was unable to retain the information related to the decision</option>
                            </select>
                            <div class="mb-3">
                                <label for="mcaRetainExtra" class="form-label">Additional Comments</label>
                                <textarea class="form-control" id="mcaRetainExtra" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="mb-3">
                            <p>Weigh up</p>
                            <select class="form-select mb-3" id="mcaWeighUp" aria-label="MCA ability to weigh up select box">
                                <option selected>Please select an option</option>
                                <option value="ableWeighUp">Was able to weigh up the information related to the decision</option>
                                <option value="notAbleWeighUp">Was unable to weigh up the information related to the decision</option>
                            </select>
                            <div class="mb-3">
                                <label for="mcaWeighUpExtra" class="form-label">Additional Comments</label>
                                <textarea class="form-control" id="mcaWeighUpExtra" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="mb-3">
                            <p>Communicate</p>
                            <select class="form-select mb-3" id="mcaCommunicate" aria-label="MCA ability to understand select box">
                                <option selected>Please select an option</option>
                                <option value="ableCommunicate">Was able to communicate their decision</option>
                                <option value="notAbleCommunicate">Was unable to communicate their decision</option>
                            </select>
                            <div class="mb-3">
                                <label for="mcaCommunicateExtra" class="form-label">Additional Comments</label>
                                <textarea class="form-control" id="mcaCommunicateExtra" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="mb-3">
                            <p><i>Causative Nexus/Conclusion</i></p>
                            <div class="mb-3">
                                <label for="mcaConc" class="form-label">Causative Nexus/Conclusion</label>
                                <textarea class="form-control" id="mcaConc" rows="3"></textarea>
                            </div>
                        </div>
                    </div>
                </div>   
                <!-- Risks - discussed w police -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Identified Risks - risks handed back to Police</h3>
                        <label for="policeHandedBack" class="form-label">Name of police sargeant that risks were handed back to</label>
                        <input type="text" class="form-control" id="policeHandedBack" placeholder="Name of police sargeant">
                    </div>
                </div>
                <!-- Health - registered w GP -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Health Vulnerability - Registered with a GP</h3>
                        <select class="form-select" id="healthGP" aria-label="GP select box">
                            <option selected>Please select an option</option>
                            <option value="didNotDiscuss">Did not discuss</option>
                            <option value="registered">Is currently registered with a GP</option>
                            <option value="notRegisteredNoHelp">Is not registered with a GP, but does not want help to register</option>
                            <option value="notRegisteredHelp">Is not registered with a GP and wants help to register</option>
                        </select>
                    </div>
                </div>
                <!-- Health - physical health -->   
                <div class="row">
                    <div class="mb-3">
                        <h3>Health Vulnerability - Physical Health</h3>
                        <select class="form-select" id="healthPhysical" aria-label="Physical Health select box">
                            <option selected>Please select an option</option>
                            <option value="didNotDiscuss">Did not discuss</option>
                            <option value="noPhysicalHealth">Denied any physical health problems</option>
                            <option value="physicalHealth">Is diagnosed with physical health problems (list below)</option>
                        </select>
                    </div>
                    <div clas="mb-3">
                        <p>Additional options</p>
                        <div class="mb-3">
                            <label for="physicalDiagnoses" class="form-label">Physical Health Diagnoses</label>
                            <textarea class="form-control" id="physicalDiagnoses" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="physicalMedication" class="form-label">Physical Health Medication</label>
                            <textarea class="form-control" id="physicalMedication" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="physicalAdditional" class="form-label">Additional comments</label>
                            <textarea class="form-control" id="physicalAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Health - LD -->   
                <div class="row">
                    <div class="mb-3">
                        <h3>Health Vulnerability - Learning Disability</h3>
                        <select class="form-select" id="healthLD" aria-label="LD select box">
                            <option selected>Please select an option</option>
                            <option value="didNotDiscuss">Did not discuss</option>
                            <option value="noLD">Denied being diagnosed with a learning disability</option>
                            <option value="LDMild">Is diagnosed with a mild learning disability</option>
                            <option value="LDMod">Is diagnosed with a moderate learning disability</option>
                            <option value="LDSevere">Is diagnosed with a severe learning disability</option>
                        </select>
                    </div>
                    <div clas="mb-3">
                        <div class="mb-3">
                            <label for="LDAdditional" class="form-label">Additional comments</label>
                            <textarea class="form-control" id="LDAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Health - Pegasus -->   
                <div class="row">
                    <div class="mb-3">
                        <h3>Health Vulnerability - Pegasus Card</h3>
                        <select class="form-select" id="healthPegasus" aria-label="Pegasus select box">
                            <option selected>Please select an option</option>
                            <option value="didNotDiscuss">Did not discuss</option>
                            <option value="noPegasus">Does not have a pegasus card</option>
                            <option value="yesPegasus">Has a pegasus card</option>
                        </select>
                    </div>
                    <div clas="mb-3">
                        <div class="mb-3">
                            <label for="pegasusAdditional" class="form-label">Additional comments</label>
                            <textarea class="form-control" id="pegasusAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Health - Speech and communication -->   
                <div class="row">
                    <div class="mb-3">
                        <h3>Health Vulnerability - Speech and Communication</h3>
                        <select class="form-select" id="healthSpeechComm" aria-label="Speech and Communication select box">
                            <option selected>Please select an option</option>
                            <option value="didNotDiscuss">Did not discuss</option>
                            <option value="noSpeechComm">Does not have any speech or communication difficulties</option>
                            <option value="yesSpeechComm">Has speech or communication difficulties (please list below)</option>
                        </select>
                    </div>
                    <div clas="mb-3">
                        <div class="mb-3">
                            <label for="speechCommAdditional" class="form-label">Additional comments</label>
                            <textarea class="form-control" id="speechCommAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Health - alcohol -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Health Vulnerability - Alcohol Consumption</h3>
                        <div class="mb-3">
                            <select class="form-select" id="healthAlcohol" aria-label="Alcohol consumption select box">
                                <option selected>Please select an option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="noAlcohol">Does not drink alcohol</option>
                                <option value="yesAlcoholSocial">Drinks alcohol socially</option>
                                <option value="yesAlcoholMisuse">Drinks alcohol and is currently misusing alcohol</option>
                                <option value="yesAlcoholDependency">Is dependent on alcohol</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <p>Additional options</p>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="alcoholWantsHelp">
                                <label class="form-check-label" for="alcoholWantsHelp">
                                  Wants help with their alcohol intake
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="alcoholReferredIAccess">
                                <label class="form-check-label" for="alcoholReferredIAccess">
                                  Referred to i-Access
                                </label>
                            </div>
                            <div class="mb-3">
                                <label for="alcoholUnitsPerWeek" class="form-label">Units of alcohol drunk on average per week</label>
                                <input type="text" class="form-control" id="alcoholUnitsPerWeek" placeholder="Units of alcohol drunk on average per week">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="alcoholAdditional" class="form-label">Additional Comments</label>
                            <textarea class="form-control" id="alcoholAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Health - substance misuse -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Health Vulnerability - Substance Misuse</h3>
                        <div class="mb-3">
                            <select class="form-select" id="healthSubstances" aria-label="Substance misuse select box">
                                <option selected>Please select an option</option>
                                <option value="didNotDiscuss">Did not discuss</option>
                                <option value="noSubstances">Denied using illicit substances</option>
                                <option value="yesSubstancesSocial">Uses substances recreationally</option>
                                <option value="yesSubstancesMisuse">Misuses substances</option>
                                <option value="yesSubstancesDependency">Dependent on substances</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <p>Additional options</p>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="substancesWantsHelp">
                                <label class="form-check-label" for="substancesWantsHelp">
                                  Wants help with their substance misuse
                                </label>
                            </div>
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" value="" id="substancesReferredIAccess">
                                <label class="form-check-label" for="substancesReferredIAccess">
                                  Referred to i-Access
                                </label>
                            </div>
                            <div class="mb-3">
                                <label for="substancesUsed" class="form-label">Substances Used</label>
                                <input type="text" class="form-control" id="substancesUsed" placeholder="Substances used">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="substancesAdditional" class="form-label">Additional Comments</label>
                            <textarea class="form-control" id="substancesAdditional" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Health - culture/gender -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Health Vulnerability - Culture and Gender</h3>
                        <label for="healthCulture" class="form-label">Culture and Gender comments</label>
                        <textarea class="form-control" id="healthCulture" rows="3"></textarea>
                    </div>
                </div>
                <!-- Outcomes - location of assessment -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Outcomes - Location of Assessment</h3>
                        <div class="mb-3">
                            <select class="form-select" id="outcomesLocation" aria-label="Location of assessment select box">
                                <option selected>Please select an option</option>
                                <option value="guildford">Guildford</option>
                                <option value="salfords">Salfords</option>
                                <option value="staines">Staines</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!-- Outcomes - signposting given -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Outcomes - Signposting Given</h3>
                        <label for="outcomesSignposting" class="form-label">Signposting Given</label>
                        <textarea class="form-control" id="outcomesSignposting" rows="3"></textarea>
                    </div>
                </div>
                <!-- Outcomes - Liaison Completed -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Outcomes - Liaison Completed</h3>
                        <label for="outcomesLiaison" class="form-label">Liaison Completed</label>
                        <textarea class="form-control" id="outcomesLiaison" rows="3"></textarea>
                    </div>
                </div>
                <!-- Outcomes - Referral to outreach -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Outcomes - Referral to outreach</h3>
                        <label for="outcomesOutreach" class="form-label">Referral to outreach</label>
                        <textarea class="form-control" id="outcomesOutreach" rows="3"></textarea>
                    </div>
                </div>
                <!-- Outcomes - when best to contact -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Outcomes - When best to contact</h3>
                        <label for="outcomesContact" class="form-label">When best to contact</label>
                        <textarea class="form-control" id="outcomesContact" rows="3"></textarea>
                    </div>
                </div>
                <!-- Outcomes - care plan given -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Outcomes - Care plan given</h3>
                        <select class="form-select" id="outcomesCarePlan" aria-label="Care plan given select box">
                            <option selected>Please select an option</option>
                            <option value="yes">Yes - Care Plan Given</option>
                            <option value="no">No - Care Plan not Given</option>
                        </select>
                    </div>
                </div>
                <!-- Conclusion -->
                <div class="row">
                    <div class="mb-3">
                        <h3>Conclusion</h3>
                        <p>Consent</p>
                        <select class="form-select mb-3" id="conclusionConsent" aria-label="Care plan given select box">
                            <option selected>Was consent obtained?</option>
                            <option value="yes">Yes - consent obtained</option>
                            <option value="no">No - consent not obtained</option>
                        </select>
                        <div class="mb-3">
                            <label for="conclusionReferralReason" class="form-label">Reason for Referral</label>
                            <input type="text" class="form-control" id="conclusionReferralReason" placeholder="Reason for referral to Liaison and Diversion">
                        </div>
                        <div class="mb-3">
                            <label for="conclusionIdentifiedVulnerabilities" class="form-label">Identified Vulnerabilities</label>
                            <textarea class="form-control" id="conclusionIdentifiedVulnerabilities" rows="3"></textarea>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" value="" id="conclusionReferringToOutreach">
                            <label class="form-check-label" for="conclusionReferringToOutreach">
                              Referring to Outreach
                            </label>
                        </div>
                        <div class="mb-3">
                            <label for="conclusionOutreachHelp" class="form-label">Outreach to help with</label>
                            <textarea class="form-control" id="conclusionOutreachHelp" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <!-- Submit -->
                <div class="row">
                    <button id="generateReport" type="button" class="btn btn-primary mb-3">Generate Report</button>
                    <button id="viewReport" type="button" class="btn btn-success mb-3" data-bs-toggle="modal" data-bs-target="#resultsModal">View Report</button>
                </div>
            </form>
        </div>

        <!-- Report modal -->
        <div class="modal fade" id="resultsModal" tabindex="-1" aria-labelledby="resultsModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="resultsModalLabel">Vulnerability Assessment Report</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <h3>Social Vulnerability</h3>
                        <div class="mb-3">
                            <h5>Housing</h5>
                            <textarea class="form-control" id="outputHousing" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Financial Situation</h5>
                            <textarea class="form-control" id="outputFinances" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Employment</h5>
                            <textarea class="form-control" id="outputEmployment" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Education</h5>
                            <textarea class="form-control" id="outputEducation" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Support Network</h5>
                            <textarea class="form-control" id="outputSupport" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Safeguarding</h5>
                            <textarea class="form-control" id="outputSafeguarding" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Forensic History</h5>
                            <textarea class="form-control" id="outputForensic" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Other</h5>
                            <textarea class="form-control" id="outputOther" rows="3"></textarea>
                        </div>
                        <h3>Identified Risks</h3>
                        <div class="mb-3">
                            <h5>Concerns regarding capacity to engage with Criminal Justice System</h5>
                            <textarea class="form-control" id="outputMCA" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Risks discussed in Police Risk assessment</h5>
                            <textarea class="form-control" id="outputPoliceRisk" rows="3"></textarea>
                        </div>
                        <h3>Health vulnerability</h3>
                        <div class="mb-3">
                            <h5>Registered with a GP</h5>
                            <textarea class="form-control" id="outputGP" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Physical Health</h5>
                            <textarea class="form-control" id="outputPhysical" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Learning Disability</h5>
                            <textarea class="form-control" id="outputLD" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Pegasus Card</h5>
                            <textarea class="form-control" id="outputPegasus" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Speech and Communication needs</h5>
                            <textarea class="form-control" id="outputSpeechComm" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Alcohol Consumption</h5>
                            <textarea class="form-control" id="outputAlcohol" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Substance Misuse</h5>
                            <textarea class="form-control" id="outputSubstance" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Culture and Gender</h5>
                            <textarea class="form-control" id="outputCultureGender" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Location of Assessment</h5>
                            <textarea class="form-control" id="outputLocation" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Signposting Given</h5>
                            <textarea class="form-control" id="outputSignposting" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Liaison Completed</h5>
                            <textarea class="form-control" id="outputLiaison" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Referral to Outeach Team</h5>
                            <textarea class="form-control" id="outputOutreach" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>When Best to Contact</h5>
                            <textarea class="form-control" id="outputContact" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Care Plan Given to Individual</h5>
                            <textarea class="form-control" id="outputCarePlan" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <h5>Outline of Vulnerabilities and Plan</h5>
                            <textarea class="form-control" id="outputConclusion" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script>
            $(document).ready(function() {
                function generate_housing(name){
                    housingOutput = ''
                    switch($('#socialVulnHousing').val()) {
                        case 'didNotDiscuss':
                            housingOutput += 'Did not discuss'
                            break;
                        case 'homeless':
                            housingOutput += `${name} is currently homeless. `
                            break;
                        case 'councilRent':
                            housingOutput += `${name} is currently living in a council rented property. `
                            break;
                        case 'haRent':
                            housingOutput += `${name} is currently living in a housing association rented property. `
                            break;
                        case 'privateRent':
                            housingOutput += `${name} is currently living in a privately rented property. `
                            break;
                        case 'ownHomeMortgage':
                            housingOutput += `${name} owns their own home and currently has a mortgage which they are paying off. `
                            break;
                        case 'ownHomeOutright':
                            housingOutput += `${name} owns their own home. `
                            break;
                        case 'family':
                            housingOutput += `${name} is currently living with family. `
                            break;
                        case 'friends':
                            housingOutput += `${name} is currently living with friends. `
                            break;
                        default:
                            return false;
                    }

                    if ($('#housingArrears').is(':checked')) {
                        if ($('#socialVulnHousing').val() == 'ownHomeMortgage') {
                            housingOutput += `${name} is currently behind on their mortgage payments. `;
                        } else if ($('#socialVulnHousing').val() == 'councilRent' || $('#socialVulnHousing').val() == 'haRent' || $('#socialVulnHousing').val() == 'privateRent') {
                            housingOutput += `${name} is currently behind on their rent. `;
                        }
                    }

                    if ($('#housingWantsHelp').is(':checked')) {
                        housingOutput += `${name} wants support with their housing situation. `;
                    }

                    if ($('#housingAdditional').val().trim() !== '') {
                        housingOutput += $('#housingAdditional').val();
                    }
                    
                    $('#outputHousing').val(housingOutput);
                        
                    return true;
                }

                function generate_finances(name) {
                    financesOutput = '';

                    switch($('#socialFinances').val()) {
                        case 'didNotDiscuss':
                            financesOutput += 'Did not discuss'
                            break;
                        case 'mainEmployment':
                            financesOutput += `${name}'s main source of income is from their employment. `
                            break;
                        case 'mainBenefits':
                            financesOutput += `${name}'s main source of income is from their benefits. `
                            break;
                        default:
                            return false;
                    }

                    if ($('#financesDebt').is(':checked')) {
                        financesOutput += `${name} is currently in debt. `;
                    }

                    if ($('#financesWantsHelp').is(':checked')) {
                        financesOutput += `${name} wants support with their financial situation. `;
                    }

                    if ($('#financesAdditional').val().trim() !== '') {
                        financesOutput += $('#financesAdditional').val();
                    }

                    $('#outputFinances').val(financesOutput);

                    return true;
                }

                function generate_employment(name) {
                    employmentOutput = '';

                    switch($('#socialEmployment').val()) {
                        case 'didNotDiscuss':
                            employmentOutput += 'Did not discuss';
                            break;
                        case 'employed':
                            employmentOutput += `${name} is currently employed. They are employed as a `;
                            if ($('#employmentJob').val().trim() !== '') {
                                employmentOutput += $('#employmentJob').val().trim();
                                employmentOutput += '.';
                            } else {
                                return false;
                            }
                            break;
                        case 'unemployedLooking':
                            employmentOutput += `${name} is currently unemployed, and is actively looking for work. `;
                            break;
                        case 'unemployedNotLooking':
                            employmentOutput += `${name} is currently unemployed, and is not currently looking for work. `;
                            break;
                        case 'unableSickness':
                            employmentOutput += `${name} is currently unable to work due to their medical conditions (`;
                            if ($('#employmentMedicalCond').val().trim() !== '') {
                                employmentOutput += $('#employmentMedicalCond').val().trim();
                                employmentOutput += ').';
                            } else {
                                return false;
                            }
                            break;
                        case 'employedSickness':
                            employmentOutput += `${name}' is currently employed, however, is on sick leave at present. `;
                            break;
                        default:
                            return false;
                    }

                    if ($('#employmentWantsHelp').is(':checked')) {
                        employmentOutput += `${name} wants support with their employment situation. `;
                    }

                    if ($('#employmentAdditional').val().trim() !== '') {
                        employmentOutput += $('#employmentAdditional').val();
                    }

                    $('#outputEmployment').val(employmentOutput);

                    return true;
                }

                function generate_education(name) {

                    educationOutput = '';

                    switch($('#socialEducation').val()) {
                        case 'didNotDiscuss':
                            educationOutput += 'Did not discuss';
                            break;
                        case 'gcse':
                            educationOutput += `${name} left school with GCSEs. `
                            break;
                        case 'alevel':
                            educationOutput += `${name} left school with A Levels. `
                            break;
                        case 'ugrad':
                            educationOutput += `${name} has completed an undergraduate degree in `
                            break;
                        case 'masters':
                            educationOutput += `${name} has completed a masters degree in `
                            break;
                        case 'doc':
                            educationOutput += `${name} has completed a doctorate in `
                            break;
                        case 'lvl1':
                            educationOutput += `${name} has completed a level one qualification in `
                            break;
                        case 'lvl2':
                            educationOutput += `${name} has completed a level two qualification in `
                            break;
                        case 'lvl3':
                            educationOutput += `${name} has completed a level three qualification in `
                            break;
                        case 'lvl4':
                            educationOutput += `${name} has completed a level four qualification in `
                            break;
                        case 'lvl5':
                            educationOutput += `${name} has completed a level five qualification in `
                            break;
                        case 'lvl6':
                            educationOutput += `${name} has completed a level six qualification in `
                            break;
                        case 'lvl7':
                            educationOutput += `${name} has completed a level seven qualification in `
                            break;
                        default:
                            return false;
                    }

                    if ($('#socialEducation').val() !== 'didNotDiscuss' && $('#socialEducation').val() !== 'gcse' && $('#socialEducation').val() !== 'alevel') {
                        if ($('#educationSubject').val().trim() !== '') {
                            educationOutput += `${$('#educationSubject').val().trim()}. `;
                        } else {
                            return false;
                        }
                    }
                    
                    if ($('#educationWantsHelp').is(':checked')) {
                        educationOutput += `${name} wants support with further education. `;
                    }

                    if ($('#educationAdditional').val().trim() !== '') {
                        educationOutput += $('#educationAdditional').val();
                    }

                    $('#outputEducation').val(educationOutput);
                    
                    return true;
                }

                function generate_support(name) {

                    supportOutput = '';

                    switch($('#socialSupport').val()) {
                        case 'didNotDiscuss':
                            supportOutput += 'Did not discuss';
                            break;
                        case 'support':
                            supportOutput += `${name} said that they have a sufficient support network. `
                            break;
                        case 'noSupport':
                            supportOutput += `${name} said that they do not have a sufficient support network. `
                            break;
                        default:
                            return false;
                    }

                    if ($('#supportWantsHelp').is(':checked')) {
                        supportOutput += `${name} wants support to build their support network. `;
                    }

                    if ($('#supportAdditional').val().trim() !== '') {
                        supportOutput += $('#supportAdditional').val();
                    }

                    $('#outputSupport').val(supportOutput);

                    return true;
                }

                function generate_safeguarding(name) {

                    safeguardingOutput = '';

                    switch($('#socialSafeguarding').val()) {
                        case 'didNotDiscuss':
                            safeguardingOutput += 'Did not discuss';
                            break;
                        case 'noSafeguarding':
                            safeguardingOutput += `${name} did not disclose any safeguarding concerns. `
                            break;
                        case 'atRiskAbuse':
                            safeguardingOutput += `${name} disclosed that they are at risk of abuse. `
                            break;
                        case 'atRiskNeglect':
                            safeguardingOutput += `${name} disclosed that they are at risk of neglect. `
                            break;
                        case 'experiencedAbuse':
                            safeguardingOutput += `${name} said that they have experienced abuse. `
                            break;
                        case 'experiencedNeglect':
                            safeguardingOutput += `${name} said that they have experienced neglect. `
                            break;
                        default:
                            return false;
                    }

                    if ($('#socialSafeguarding').val() !== 'didNotDiscuss' && $('#socialSafeguarding').val() !== 'noSafeguarding') {
                        safeguardingOutput += `${$('#safeguardingDetails').val()}. `
                    }

                    if ($('#safeguardingWantsHelp').is(':checked')) {
                        safeguardingOutput += `${name} said that they wanted help to deal with the above safeguarding concerns. `;
                    }

                    if ($('#safeguardingAgreedReferral').is(':checked')) {
                        safeguardingOutput += `${name} agreed for a referral to the MASH, `;

                        if ($('#safeguardingMASHReferred').is(':checked')) {
                            safeguardingOutput += `and a referral to MASH was made. `;
                        }
                        
                        if ($('#safeguardingMASHNotReferred').is(':checked')) {
                            safeguardingOutput += `however, a referral to MASH was not made because ${$('#safeguardingMASHNotReferredReason').val()}. `;
                        }

                    }

                    if ($('#safeguardingDeclinedReferral').is(':checked')) {
                        safeguardingOutput += `${name} did not wish for a referral to be made to the MASH. `;

                        if ($('#safeguardingMASHReferred').is(':checked')) {
                            safeguardingOutput += `However, despite this, due to the risks, a referral to MASH was made. `;
                        }
                        
                        if ($('#safeguardingMASHNotReferred').is(':checked')) {
                            safeguardingOutput += `A referral to MASH was not made because ${$('#safeguardingMASHNotReferredReason').val()}. `;
                        }

                    }

                    if ($('#safeguardingAdditional').val().trim() !== '') {
                        safeguardingOutput += $('#safeguardingAdditional').val();
                    }

                    $('#outputSafeguarding').val(safeguardingOutput);

                    return true;
                }

                function generate_forensic(name) {

                    forensicOutput = '';
                    switch($('#socialForensic').val()) {
                        case 'didNotDiscuss':
                            forensicOutput += 'Did not discuss';
                            break;
                        case 'staines':
                            forensicOutput += `${name} was arrested on ${$('#forensicArrestDate').val()} on suspicion of ${$('#forensicReasonForArrest').val()} and is currently being held at Staines Police Custody. `
                            break;
                        case 'guildford':
                            forensicOutput += `${name} was arrested on ${$('#forensicArrestDate').val()} on suspicion of ${$('#forensicReasonForArrest').val()} and is currently being held at Guildford Police Custody. `
                            break;
                        case 'salfords':
                            forensicOutput += `${name} was arrested on ${$('#forensicArrestDate').val()} on suspicion of ${$('#forensicReasonForArrest').val()} and is currently being held at Salfords Police Custody. `
                            break;
                        default:
                            return false;
                    }

                    if ($('#forensicWantsHelp').is(':checked')) {
                        forensicOutput += `${name} said that they want help with their offending behaviour. `;
                    }

                    if ($('#forensicAdditional').val().trim() !== '') {
                        forensicOutput += $('#forensicAdditional').val();
                    }

                    $('#outputForensic').val(forensicOutput);

                    return true;
                }

                function generate_other(name) {

                    otherOutput = '';

                    switch($('#socialChildren').val()) {
                        case 'didNotDiscuss':
                            otherOutput += `We did not discuss if ${name} has any children. `;
                            break;
                        case 'noChildren':
                            otherOutput += `${name} does not have any children. `
                            break;
                        case 'children1':
                            otherOutput += `${name} has one child. `
                            break;
                        case 'children2':
                            otherOutput += `${name} has two children. `
                            break;
                        case 'children3':
                            otherOutput += `${name} has three children. `
                            break;
                        case 'children4':
                            otherOutput += `${name} has four children. `
                            break;
                        case 'children5':
                            otherOutput += `${name} has five children. `
                            break;
                        case 'children6':
                            otherOutput += `${name} has six children. `
                            break;
                        case 'children7':
                            otherOutput += `${name} has seven children. `
                            break;
                        case 'children8':
                            otherOutput += `${name} has 8 children. `
                            break;
                        case 'children9':
                            otherOutput += `${name} has 9 children. `
                            break;
                        case 'children10':
                            otherOutput += `${name} has 10 children. `
                            break;
                        default:
                            return false;
                    }

                    if ($('#childrenAdditional').val().trim() !== '') {
                        otherOutput += `${$('#childrenAdditional').val()}. `;
                    }

                    switch($('#socialRelationship').val()) {
                        case 'didNotDiscuss':
                            otherOutput += `We did not discuss if ${name} is in a relationship. `;
                            break;
                        case 'single':
                            otherOutput += `${name} is currently single. `
                            break;
                        case 'married':
                            otherOutput += `${name} is married. `
                            break;
                        case 'inRelationship':
                            otherOutput += `${name} is currently in a relationship. `
                            break;
                        case 'widowed':
                            otherOutput += `${name} is widowed. `
                            break;
                        default:
                            return false;
                    }

                    if ($('#relationshipAdditional').val().trim() !== '') {
                        otherOutput += `${$('#relationshipAdditional').val()}. `;
                    }

                    if ($('#socialOtherAdditional').val().trim() !== '') {
                        otherOutput += `${$('#socialOtherAdditional').val()}. `;
                    }

                    $('#outputOther').val(otherOutput);

                    return true;
                }

                function generate_mca(name) {

                    mcaOutput = '';

                    switch($('#riskMCA').val()) {
                        case 'didNotAssess':
                            mcaOutput += `${name}'s mental capacity was not assessed. `;
                            break;
                        case 'noReasonToSetAsidePresumption':
                            mcaOutput += `After assessing ${name}, there was no reason to set aside the presumption of mental capacity. `
                            break;
                        case 'assessedCapacity':
                            mcaOutput += `${name} has the mental capacity to make decisions around the criminal justice system, and is able to engage in the custody process. `
                            break;
                        case 'assessedNoCapacity':
                            mcaOutput += `${name} lacks the mental capacity to make decisions around the criminal justice system, and is not able to engage in the custody process. `
                            break;
                        default:
                            return false;
                    }

                    if ($('#riskMCA').val() !== 'didNotAssess' && $('#riskMCA').val() !== 'noReasonToSetAsidePresumption') {
                        mcaOutput += '\n\n';
                        mcaOutput += 'Mental Capacity Assessment\n\n';
                        mcaOutput += `Diagnostic Test - ${name} has diagnoses of ${$('#mcaDiagnostic').val()}.\n\n`;
                        mcaOutput += 'Functional Test\n';
                        mcaOutput += 'Understand - ';
                        switch($('#mcaUnderstand').val()) {
                            case 'ableUnderstand':
                                mcaOutput += `${name} was able to understand the information relevant to the decision. `;
                                if ($('#mcaUnderstandExtra').val().trim() !== '') {
                                    mcaOutput += `${$('#mcaUnderstandExtra').val()}.\n`
                                } else {
                                    mcaOutput += '\n'
                                }
                                break;
                            case 'notAbleUnderstand':
                                mcaOutput += `${name} was unable to understand the information relevant to the decision. `;
                                if ($('#mcaUnderstandExtra').val().trim() !== '') {
                                    mcaOutput += `${$('#mcaUnderstandExtra').val()}.\n`
                                } else {
                                    mcaOutput += '\n'
                                }
                                break;
                            default:
                                return false;
                        }
                        mcaOutput += 'Retain - ';
                        switch($('#mcaRetain').val()) {
                            case 'ableRetain':
                                mcaOutput += `${name} was able to retain the information relevant to the decision. `;
                                if ($('#mcaRetainExtra').val().trim() !== '') {
                                    mcaOutput += `${$('#mcaRetainExtra').val()}.\n`
                                } else {
                                    mcaOutput += '\n'
                                }
                                break;
                            case 'notAbleRetain':
                                mcaOutput += `${name} was unable to retain the information relevant to the decision. `;
                                if ($('#mcaRetainExtra').val().trim() !== '') {
                                    mcaOutput += `${$('#mcaRetainExtra').val()}.\n`
                                } else {
                                    mcaOutput += '\n'
                                }
                                break;
                        }
                        mcaOutput += 'Weigh up - ';
                        switch($('#mcaWeighUp').val()) {
                            case 'ableWeighUp':
                                mcaOutput += `${name} was able to weigh up the information relevant to the decision. `;
                                if ($('#mcaWeighUpExtra').val().trim() !== '') {
                                    mcaOutput += `${$('#mcaWeighUpExtra').val()}.\n`
                                } else {
                                    mcaOutput += '\n'
                                }
                                break;
                            case 'notAbleWeighUp':
                                mcaOutput += `${name} was unable to weigh up the information relevant to the decision. `;
                                if ($('#mcaWeighUpExtra').val().trim() !== '') {
                                    mcaOutput += `${$('#mcaWeighUpExtra').val()}.\n`
                                } else {
                                    mcaOutput += '\n'
                                }
                                break;
                        }
                        mcaOutput += 'Communicate - ';
                        switch($('#mcaCommunicate').val()) {
                            case 'ableCommunicate':
                                mcaOutput += `${name} was able to communicate their decision. `;
                                if ($('#mcaCommunicateExtra').val().trim() !== '') {
                                    mcaOutput += `${$('#mcaCommunicateExtra').val()}.\n`
                                } else {
                                    mcaOutput += '\n'
                                }
                                break;
                            case 'notAbleCommunicate':
                                mcaOutput += `${name} was unable to communicate their decision. `;
                                if ($('#mcaCommunicateExtra').val().trim() !== '') {
                                    mcaOutput += `${$('#mcaCommunicateExtra').val()}.\n`
                                } else {
                                    mcaOutput += '\n'
                                }
                                break;
                        }

                        if ($('#mcaUnderstand').val() === 'ableUnderstand' && $('#mcaRetain').val() === 'ableRetain' && $('#mcaWeighUp').val() === 'ableWeighUp' && $('#mcaCommunicate').val() === 'ableCommunicate') {
                            mcaOutput += `Conclusion/Casuative Nexus - On the balance of probabilities, ${name} has the mental capacity to make decisions around the criminal justice system, and to engage in the custody process. `
                            if ($('#mcaConc').val().trim() !== '') {
                                    mcaOutput += `${$('#mcaConc').val()}.`
                            }
                        } else {
                            mcaOutput += `Conclusion/Casuative Nexus - On the balance of probabilities, ${name} lacks the mental capacity to make decisions around the criminal justice system, and to engage in the custody process. `
                            if ($('#mcaConc').val().trim() !== '') {
                                    mcaOutput += `${$('#mcaConc').val()}.`
                            }
                        }
                    }

                    $('#outputMCA').val(mcaOutput);

                    return true;
                }

                function generate_risk_police(name) {

                    riskPoliceOutput = '';

                    if ($('#policeHandedBack').val().trim() !== '') {
                        riskPoliceOutput += `Identified risks were handed back to custody sargeant ${$('#policeHandedBack').val()}.`;
                    } else {
                        return false;
                    }

                    $('#outputPoliceRisk').val(riskPoliceOutput);

                    return true;
                }

                function generate_gp(name) {

                    gpOutput = '';
                    switch($('#healthGP').val()) {
                        case 'didNotDiscuss':
                            gpOutput += 'Did not discuss';
                            break;
                        case 'registered':
                            gpOutput += `${name} is currently registered with a GP. `;
                            break;
                        case 'notRegisteredNoHelp':
                            gpOutput += `${name} is not currently registered with a GP, but does not want help with registering. `
                            break;
                        case 'notRegisteredHelp':
                            gpOutput += `${name} is not currently registered with a GP, and would like help with registering. `
                            break;
                        default:
                            return false;
                    }

                    $('#outputGP').val(gpOutput);

                    return true;
                }

                function generate_physical_health(name) {

                    physicalHealthOutput = '';
                    switch($('#healthPhysical').val()) {
                        case 'didNotDiscuss':
                            physicalHealthOutput += 'Did not discuss';
                            break;
                        case 'noPhysicalHealth':
                            physicalHealthOutput += `${name} stated that they do not have physical health problems. `
                            break;
                        case 'physicalHealth':
                            if ($('#physicalDiagnoses').val().trim !== '') {
                                if ($('#physicalMedication').val().trim !== '') {
                                    physicalHealthOutput += `${name} disclosed that they are diagnosed with ${$('#physicalDiagnoses').val()} and take the following medication: ${$('#physicalMedication').val()}. `;
                                } else {
                                    physicalHealthOutput += `${name} disclosed that they are diagnosed with ${$('#physicalDiagnoses').val()}. `;
                                }
                            } else {
                                return false;
                            }
                            break;
                        default:
                            return false;
                    }

                    if ($('#physicalAdditional').val().trim() !== '') {
                        physicalHealthOutput += $('#physicalAdditional').val();
                    }

                    $('#outputPhysical').val(physicalHealthOutput);

                    return true;
                }

                function generate_LD(name) {

                    LDOutput = '';
                    switch($('#healthLD').val()) {
                        case 'didNotDiscuss':
                            LDOutput += 'Did not discuss';
                            break;
                        case 'noLD':
                            LDOutput += `${name} does not have a learning disability. `;
                            break;
                        case 'LDMild':
                            LDOutput += `${name} has a mild learning disability. `;
                            break;
                        case 'LDMod':
                            LDOutput += `${name} has a moderate learning disability. `;
                            break;
                        case 'LDSevere':
                            LDOutput += `${name} has a severe learning disability. `;
                            break;
                        default:
                            return false;
                    }

                    if ($('#LDAdditional').val().trim() !== '') {
                        LDOutput += $('#LDAdditional').val();
                    }

                    $('#outputLD').val(LDOutput);

                    return true;
                }

                function generate_pegasus(name) {

                    pegasusOutput = '';
                    switch($('#healthPegasus').val()) {
                        case 'didNotDiscuss':
                            pegasusOutput += 'Did not discuss';
                            break;
                        case 'noPegasus':
                            pegasusOutput += `${name} does not have a Pegasus card. `;
                            break;
                        case 'yesPegasus':
                            pegasusOutput += `${name} has a Pegasus card. `;
                            break;
                        default:
                            return false;
                    }

                    if ($('#pegasusAdditional').val().trim() !== '') {
                        pegasusOutput += $('#pegasusAdditional').val();
                    }

                    $('#outputPegasus').val(pegasusOutput);

                    return true;
                }

                function generate_speech_comm(name) {

                    speechOutput = '';
                    switch($('#healthSpeechComm').val()) {
                        case 'didNotDiscuss':
                            speechOutput += 'Did not discuss';
                            break;
                        case 'noSpeechComm':
                            speechOutput += `${name} did not disclose and speech or communication needs. `;
                            break;
                        case 'yesSpeechComm':
                            speechOutput += `${name} disclosed speech and communication needs. `;
                            break;
                        default:
                            return false;
                    }

                    if ($('#speechCommAdditional').val().trim() !== '') {
                        speechOutput += $('#speechCommAdditional').val();
                    }

                    $('#outputSpeechComm').val(speechOutput);

                    return true;
                }

                function generate_alcohol(name) {

                    alcoholOutput = '';
                    switch($('#healthAlcohol').val()) {
                        case 'didNotDiscuss':
                            alcoholOutput += 'Did not discuss';
                            break;
                        case 'noAlcohol':
                            alcoholOutput += `${name} explained that they do not drink. `;
                            break;
                        case 'yesAlcoholSocial':
                            alcoholOutput += `${name} explained that they drink alcohol socially. `;
                            break;
                        case 'yesAlcoholMisuse':
                            alcoholOutput += `${name} explained that they abuse alcohol . `;
                            break;
                        case 'yesAlcoholDependency':
                            alcoholOutput += `${name} explained that they are dependent on alcohol. `;
                            break;
                        default:
                            return false;
                    }

                    if ($('#alcoholUnitsPerWeek').val().trim() !== '') {
                        alcoholOutput += `${name} reported that they drink approximately ${$('#alcoholUnitsPerWeek').val()} units of alcohol per week. `;
                    }

                    if ($('#alcoholWantsHelp').is(':checked')) {
                        alcoholOutput += `${name} stated that they wanted help with their alcohol intake. `;
                    }

                    if ($('#alcoholReferredIAccess').is(':checked')) {
                        alcoholOutput += `A referral to I-Access has been made. `;
                    }

                    if ($('#alcoholAdditional').val().trim() !== '') {
                        alcoholOutput += $('#alcoholAdditional').val();
                    }

                    $('#outputAlcohol').val(alcoholOutput);

                    return true;
                }

                function generate_substances(name) {

                    substancesOutput = '';
                    switch($('#healthSubstances').val()) {
                        case 'didNotDiscuss':
                            substancesOutput += 'Did not discuss';
                            break;
                        case 'noSubstances':
                            substancesOutput += `${name} explained that they do not use illicit substances. `;
                            break;
                        case 'yesSubstancesSocial':
                            substancesOutput += `${name} explained that they use illicit substances socially. `;
                            break;
                        case 'yesSubstancesMisuse':
                            substancesOutput += `${name} explained that they abuse illicit substances . `;
                            break;
                        case 'yesSubstancesDependency':
                            substancesOutput += `${name} explained that they are dependent on illicit substances. `;
                            break;
                        default:
                            return false;
                    }

                    if ($('#substancesUsed').val().trim() !== '') {
                        substancesOutput += `${name} reported that they use ${$('#substancesUsed').val()}. `;
                    }

                    if ($('#substancesWantsHelp').is(':checked')) {
                        substancesOutput += `${name} stated that they wanted help with their illicit drug use. `;
                    }

                    if ($('#substancesReferredIAccess').is(':checked')) {
                        substancesOutput += `A referral to I-Access has been made. `;
                    }

                    if ($('#substancesAdditional').val().trim() !== '') {
                        substancesOutput += $('#substancesAdditional').val();
                    }

                    $('#outputSubstance').val(substancesOutput);

                    return true;
                }

                function generate_culture() {

                    $('#outputCultureGender').val($('#healthCulture').val());

                    return true;
                }

                function generate_location() {

                    locationOutput = ''

                    switch($('#outcomesLocation').val()) {
                        case 'guildford':
                            locationOutput += `Assessment completed at Guildford Custody.`;
                            break;
                        case 'staines':
                            locationOutput += `Assessment completed at Staines Custody.`;
                            break;
                        case 'salfords':
                            locationOutput += `Assessment completed at Salfords Custody.`;
                            break;
                        default:
                            return false;
                    }

                    $('#outputLocation').val(locationOutput);

                    return true;
                }

                function generate_signposting() {

                    $('#outputSignposting').val($('#outcomesSignposting').val());

                    return true;
                }

                function generate_liaison() {

                    $('#outputLiaison').val($('#outcomesLiaison').val());

                    return true;
                }

                function generate_outreach() {

                    $('#outputOutreach').val($('#outcomesOutreach').val());

                    return true;
                }

                function generate_contact() {

                    $('#outputContact').val($('#outcomesContact').val());

                    return true;
                }

                function generate_care_plan(name) {

                    carePlanOutput = ''

                    switch($('#outcomesCarePlan').val()) {
                        case 'yes':
                            locationOutput += `Care plan given to ${name}.`;
                            break;
                        case 'no':
                            locationOutput += `Care plan was not given to ${name}.`;
                            break;
                        default:
                            return false;
                    }

                    $('#outputCarePlan').val(carePlanOutput);

                    return true;
                }

                function generate_conclusion(name) {
                    conclusionOutput = '';

                    conclusionOutput += `${name} was arrested on suspicion of ${$('#forensicReasonForArrest').val()}.\n\n`;

                    switch($('#conclusionConsent').val()) {
                        case 'yes':
                            conclusionOutput += `Consent obtained to access healthcare records and sharing of information of Liaison and Diversion assessment. `;
                            break;
                        case 'no':
                            conclusionOutput += `Consent was not obtained to access healthcare records and sharing of information of Liaison and Diversion assessment. `;
                            break;
                        default:
                            return false;
                    }

                    if ($('#riskMCA').val() === 'assessedNoCapacity') {
                        conclusionOutput += `${name} did not understand the reasons for arrest and lacked capcaity to engage in the custody process. `;
                    } else {
                        conclusionOutput += `${name} understood the reasons for arrest. `;
                    }

                    switch($('#conclusionConsent').val()) {
                        case 'yes':
                            conclusionOutput += `Written consent was not obtained due to COVID 19. Verbal consent was given.\n\n `;
                            break;
                        case 'no':
                            conclusionOutput += `Written consent was not obtained due to COVID 19. Verbal consent was not given.\n\n `;
                            break;
                        default:
                            return false;
                    }

                    if ($('#conclusionReferralReason').val().trim() !== '') {
                        conclusionOutput += `${name} was referred to the Liaison and Diversion Service due to ${$('#conclusionReferralReason').val()}.\n\n`;
                    } else {
                        return false;
                    }

                    conclusionOutput += 'Identified vulnerabilities:\n\n';

                    if ($('#conclusionIdentifiedVulnerabilities').val().trim() !== '') {
                        conclusionOutput += `${$('#conclusionIdentifiedVulnerabilities').val()}\n\n`;
                    } else {
                        return false;
                    }

                    conclusionOutput += `Plan:\n\n`;

                    conclusionOutput += `${name} to utilise crisis support access helplines when required.\n\n`;

                    if ($('#conclusionReferringToOutreach').is(':checked')) {
                        conclusionOutput += `To refer to outreach\n\n `;
                        conclusionOutput += 'Outreach Team to assist with:\n\n';
                        if ($('#conclusionOutreachHelp').val().trim() !== '') {
                            conclusionOutput += `${$('#conclusionOutreachHelp').val()}\n\n`;
                        } else {
                            return false;
                        }
                    }

                    conclusionOutput += 'Signpost to local talking services available.'

                    $('#outputConclusion').val(conclusionOutput);
                }

                $('#generateReport').on('click', function() {
                    console.log('Generating report...');
                    var name = $('#clientName').val();
                    if (name.trim() === '') {
                        alert('Please insert a name in order for the report to be generated');
                    } else {
                        housingOutcome = generate_housing(name);
                        if (!housingOutcome){
                            alert('Could not generate report - please check the Housing section and re-run the report');
                        } else {
                            console.log('Housing created');
                            financesOutcome = generate_finances(name);
                            if (!financesOutcome){
                                alert('Could not generate report - please check the Finances section and re-run the report');
                            } else {
                                console.log('Finances created');
                                employmentOutcome = generate_employment(name);
                                if (!employmentOutput) {
                                    alert('Could not generate report - please check the Employment section and re-run the report');
                                } else {
                                    console.log('Employment created');
                                    educationOutcome = generate_education(name);
                                    if (!educationOutcome) {
                                        alert('Could not generate report - please check the Education section and re-run the report');
                                    } else {
                                        console.log('Education created');
                                        supportOutcome = generate_support(name);
                                        if (!supportOutcome) {
                                            alert('Could not generate report - please check the support network section and re-run the report');
                                        } else {
                                            console.log('Support network created');
                                            safeguardingOutcome = generate_safeguarding(name);
                                            if (!safeguardingOutcome){
                                                alert('Could not generate report - please check the safeguarding section and re-run the report');
                                            } else {
                                                console.log('Safeguarding created');
                                                forensicOutcome = generate_forensic(name);
                                                if (!forensicOutcome) {
                                                    alert('Could not generate report - please check the forensic section and re-run the report');
                                                } else {
                                                    console.log('Forensic created');
                                                    otherOutcome = generate_other(name);
                                                    if (!otherOutcome) {
                                                        alert('Could not generate report - please check the Other section and re-run the report');
                                                    } else {
                                                        console.log('Other created');
                                                        mcaOutcome = generate_mca(name);
                                                        if (!mcaOutcome) {
                                                            alert('Could not generate report - please check the Mental Capacity section and re-run the report');
                                                        } else {
                                                            console.log('MCA created');
                                                            riskPoliceOutcome = generate_risk_police(name);
                                                            if (!riskPoliceOutcome) {
                                                                alert('Could not generate report - please check the Police Risk Assessment section and re-run the report');
                                                            } else {
                                                                console.log('Police risk assessment created');
                                                                gpOutcome = generate_gp(name);
                                                                if (!gpOutcome) {
                                                                    alert('Could not generate report - please check the GP section and re-run the report');
                                                                } else {
                                                                    console.log('GP created')
                                                                    physicalHealthOutcome = generate_physical_health(name);
                                                                    if (!physicalHealthOutcome) {
                                                                        alert('Could not generate report - please check the Physical Health section and re-run the report');
                                                                    } else {
                                                                        console.log('Physical health created');
                                                                        ldOutcome = generate_LD(name);
                                                                        if (!ldOutcome) {
                                                                            alert('Could not generate report - please check the LD section and re-run the report');
                                                                        } else {
                                                                            console.log('LD created');
                                                                            pegasusOutcome = generate_pegasus(name);
                                                                            if (!pegasusOutcome) {
                                                                                alert('Could not generate report - please check the Pegasus section and re-run the report');
                                                                            } else {
                                                                                console.log('Pegasus created');
                                                                                speechOutcome = generate_speech_comm(name);
                                                                                if (!speechOutcome) {
                                                                                    alert('Could not generate report - please check the Speech and Communication section and re-run the report');
                                                                                } else {
                                                                                    console.log('Speech and Communication created');
                                                                                    alcoholOutcome = generate_alcohol(name);
                                                                                    if (!alcoholOutcome) {
                                                                                        alert('Could not generate report - please check the Alcohol section and re-run the report');
                                                                                    } else {
                                                                                        console.log('Alcohol created');
                                                                                        substancesOutcome = generate_substances(name);
                                                                                        if (!substancesOutcome) {
                                                                                            alert('Could not generate report - please check the Substances section and re-run the report');
                                                                                        } else {
                                                                                            console.log('Substances created');
                                                                                            cultureOutcome = generate_culture();
                                                                                            if (!cultureOutcome) {
                                                                                                alert('Could not generate report - please check the culture and gender section and re-run the report');
                                                                                            } else {
                                                                                                console.log('Culture and gender created');
                                                                                                locationOutcome = generate_location();
                                                                                                if (!locationOutcome) {
                                                                                                    alert('Could not generate report - please check the location of assessment section and re-run the report');
                                                                                                } else {
                                                                                                    console.log('Location of assessment completed');
                                                                                                    signpostingOutcome = generate_signposting();
                                                                                                    if(!signpostingOutcome) {
                                                                                                        alert('Could not generate report - please check the signposting section and re-run the report');
                                                                                                    } else {
                                                                                                        console.log('Signposting completed')
                                                                                                        liaisonOutcome = generate_liaison()
                                                                                                        if (!liaisonOutcome) {
                                                                                                            alert('Could not generate report - please check the liaison section and re-run the report');
                                                                                                        } else {
                                                                                                            console.log('Liaison completed');
                                                                                                            outreachOutcome = generate_outreach();
                                                                                                            if (!outreachOutcome) {
                                                                                                                alert('Could not generate report - please check the outreach section and re-run the report');
                                                                                                            } else {
                                                                                                                console.log('Outreach completed');
                                                                                                                contactOutcome = generate_contact();
                                                                                                                if (!contactOutcome) {
                                                                                                                    alert('Could not generate report - please check the best time to contact section and re-run the report');
                                                                                                                } else {
                                                                                                                    console.log('Contact completed');
                                                                                                                    carePlanOutcome = generate_care_plan(name);
                                                                                                                    if (!carePlanOutcome) {
                                                                                                                        alert('Could not generate report - please check the care plan given section and re-run the report');
                                                                                                                    } else {
                                                                                                                        console.log('Care plan completed');
                                                                                                                        conclusionOutcome = generate_conclusion(name);
                                                                                                                        if (!contactOutcome) {
                                                                                                                            alert('Could not generate report - please check the conclusion section and re-run the report');
                                                                                                                        } else {
                                                                                                                            console.log('Conclusion created')
                                                                                                                            console.log('Report ready to view')
                                                                                                                            alert('Report is ready to view')
                                                                                                                        }
                                                                                                                    }
                                                                                                                }
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }  
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                });
            });
        </script>
    </body>
</html>
